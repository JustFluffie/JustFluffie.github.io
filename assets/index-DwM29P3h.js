import{_ as S,r as b,u as R,c as u,a as H,b as o,d as a,e as r,n as l,w as N,v as V,f as x,g,h as $,i as f,j as T,k as z,o as n,l as k,K as P,m as D,p as K}from"./index-5deVTTIi.js";const L={class:"chat-module"},j={class:"chat-app-layout"},E={class:"left-controls",style:{display:"flex","align-items":"center"}},I={key:0,class:"title",id:"chatAppTitle"},W={id:"chatRoomTitleArea",class:"chat-room-title-area"},q={class:"right-controls",style:{display:"flex","align-items":"center"}},F={class:"chat-app-content"},G={key:1,class:"chat-bottom-nav"},J={class:"nav-icon"},O={class:"svg-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{"stroke-width":"1.4"}},Q={key:0,class:"unread-badge"},U={__name:"index",setup(X){const p=H(),d=z(),i=b(null),h=b(!0),y=R(),c=u(()=>["single-chat","single-chat-settings","memory-bank"].includes(p.name)),w=u(()=>!["single-chat-settings","memory-bank"].includes(p.name));K("setShowMomentsCamera",s=>{h.value=s});const e=u(()=>{const s=p.path;return s.includes("/moments")?"moments":s.includes("/npc")?"npc":s.includes("/favorites")?"favorites":s.includes("/profile")?"profile":"chat"}),C=()=>{c.value?window.history.state&&window.history.state.back?d.back():d.push("/chat/list"):window.history.length>1?d.back():d.push("/")},M=()=>{i.value&&i.value.openAddModal&&i.value.openAddModal()},B=()=>{i.value&&i.value.openPostMomentModal&&i.value.openPostMomentModal()},m=s=>{s==="moments"&&y.setMomentsRead();const t={chat:"/chat/list",moments:"/chat/moments",npc:"/chat/npc",favorites:"/chat/favorites",profile:"/chat/profile"};d.push(t[s])};return(s,t)=>{const A=g("svg-icon"),_=g("router-view");return n(),o("div",L,[a("div",j,[w.value?(n(),o("div",{key:0,class:l(["app-header",{"moments-header-style":e.value==="moments"}]),id:"chatAppHeader"},[a("div",E,[a("div",{class:l(["back-btn",{"white-icon":e.value==="moments"}]),onClick:C},[...t[5]||(t[5]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polyline",{points:"15 18 9 12 15 6"})],-1)])],2),t[6]||(t[6]=a("div",{id:"chatRoomLeftArea"},null,-1))]),!c.value&&e.value!=="moments"?(n(),o("div",I,"WeChat")):r("",!0),N(a("div",W,null,512),[[V,c.value]]),a("div",q,[!c.value&&e.value!=="moments"?(n(),o("div",{key:0,class:"action-btn",id:"chatAppActionBtn",onClick:M},[x(A,{name:"plus-circle"})])):r("",!0),!c.value&&e.value==="moments"&&h.value?(n(),o("div",{key:1,class:"action-btn",id:"momentsActionBtn",onClick:B},[...t[7]||(t[7]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),a("circle",{cx:"12",cy:"13",r:"4"})],-1)])])):r("",!0),t[8]||(t[8]=a("div",{id:"chatRoomActionArea"},null,-1))])],2)):r("",!0),a("div",F,[x(_,null,{default:$(({Component:v})=>[(n(),k(P,{exclude:["SingleChat","SingleChatSettings","SingleMemoryBank"]},[(n(),k(D(v),{ref_key:"childRef",ref:i},null,512))],1024))]),_:1})]),!c.value&&e.value!=="moments"?(n(),o("div",G,[a("div",{class:l(["chat-nav-item",{active:e.value==="chat"}]),onClick:t[0]||(t[0]=v=>m("chat"))},[...t[9]||(t[9]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})])],-1),a("span",{class:"nav-label"},"聊天",-1)])],2),a("div",{class:l(["chat-nav-item",{active:e.value==="moments"}]),onClick:t[1]||(t[1]=v=>m("moments"))},[a("span",J,[(n(),o("svg",O,[...t[10]||(t[10]=[f('<circle cx="12" cy="12" r="10" data-v-557824fb></circle><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(0, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(45, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(90, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(135, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(180, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(225, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(270, 12, 12)" data-v-557824fb></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(315, 12, 12)" data-v-557824fb></line>',9)])])),T(y).unread?(n(),o("div",Q)):r("",!0)]),t[11]||(t[11]=a("span",{class:"nav-label"},"朋友圈",-1))],2),a("div",{class:l(["chat-nav-item",{active:e.value==="npc"}]),onClick:t[2]||(t[2]=v=>m("npc"))},[...t[12]||(t[12]=[f('<span class="nav-icon" data-v-557824fb><svg class="svg-icon" viewBox="0 0 24 24" data-v-557824fb><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-557824fb></path><circle cx="9" cy="7" r="4" data-v-557824fb></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-557824fb></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-557824fb></path></svg></span><span class="nav-label" data-v-557824fb>NPC</span>',2)])],2),a("div",{class:l(["chat-nav-item",{active:e.value==="favorites"}]),onClick:t[3]||(t[3]=v=>m("favorites"))},[...t[13]||(t[13]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1),a("span",{class:"nav-label"},"收藏",-1)])],2),a("div",{class:l(["chat-nav-item",{active:e.value==="profile"}]),onClick:t[4]||(t[4]=v=>m("profile"))},[...t[14]||(t[14]=[f('<span class="nav-icon" data-v-557824fb><svg class="svg-icon" viewBox="0 0 24 24" data-v-557824fb><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-557824fb></path><circle cx="12" cy="7" r="4" data-v-557824fb></circle></svg></span><span class="nav-label" data-v-557824fb>我</span>',2)])],2)])):r("",!0)])])}}},tt=S(U,[["__scopeId","data-v-557824fb"]]);export{tt as default};
