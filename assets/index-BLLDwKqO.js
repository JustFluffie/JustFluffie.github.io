import{_ as S,r as g,u as R,c as u,a as H,b as o,d as a,e as v,n as l,w as N,v as V,f as x,g as k,h as $,i as h,j as T,k as z,o as n,l as w,K as P,m as D,p as K}from"./index-BZSuXrTR.js";const L={class:"chat-module"},j={class:"chat-app-layout"},E={class:"left-controls",style:{display:"flex","align-items":"center"}},I={key:0,class:"title",id:"chatAppTitle"},W={id:"chatRoomTitleArea",class:"chat-room-title-area"},q={class:"right-controls",style:{display:"flex","align-items":"center"}},F={class:"chat-app-content"},G={key:1,class:"chat-bottom-nav"},J={class:"nav-icon"},O={class:"svg-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{"stroke-width":"1.5"}},Q={key:0,class:"unread-badge"},U={__name:"index",setup(X){const m=H(),r=z(),i=g(null),f=g(!0),y=R(),d=u(()=>["single-chat","single-chat-settings","memory-bank"].includes(m.name)),C=u(()=>!["single-chat-settings","memory-bank"].includes(m.name));K("setShowMomentsCamera",s=>{f.value=s});const t=u(()=>{const s=m.path;return s.includes("/moments")?"moments":s.includes("/npc")?"npc":s.includes("/favorites")?"favorites":s.includes("/profile")?"profile":"chat"}),M=()=>{d.value?window.history.state&&window.history.state.back?r.back():r.push("/chat/list"):window.history.length>1?r.back():r.push("/")},b=()=>{i.value&&i.value.openAddModal&&i.value.openAddModal()},B=()=>{i.value&&i.value.openPostMomentModal&&i.value.openPostMomentModal()},p=s=>{s==="moments"&&y.setMomentsRead();const e={chat:"/chat/list",moments:"/chat/moments",npc:"/chat/npc",favorites:"/chat/favorites",profile:"/chat/profile"};r.push(e[s])};return(s,e)=>{const A=k("svg-icon"),_=k("router-view");return n(),o("div",L,[a("div",j,[C.value?(n(),o("div",{key:0,class:l(["app-header",{"moments-header-style":t.value==="moments"}]),id:"chatAppHeader"},[a("div",E,[a("div",{class:l(["back-btn",{"white-icon":t.value==="moments"}]),onClick:M},[...e[5]||(e[5]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polyline",{points:"15 18 9 12 15 6"})],-1)])],2),e[6]||(e[6]=a("div",{id:"chatRoomLeftArea"},null,-1))]),!d.value&&t.value!=="moments"?(n(),o("div",I,"WeChat")):v("",!0),N(a("div",W,null,512),[[V,d.value]]),a("div",q,[!d.value&&t.value!=="moments"?(n(),o("div",{key:0,class:"action-btn",id:"chatAppActionBtn",onClick:b},[x(A,{name:"plus-circle"})])):v("",!0),!d.value&&t.value==="moments"&&f.value?(n(),o("div",{key:1,class:"action-btn",id:"momentsActionBtn",onClick:B},[...e[7]||(e[7]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),a("circle",{cx:"12",cy:"13",r:"4"})],-1)])])):v("",!0),e[8]||(e[8]=a("div",{id:"chatRoomActionArea"},null,-1))])],2)):v("",!0),a("div",F,[x(_,null,{default:$(({Component:c})=>[(n(),w(P,{exclude:["SingleChat","SingleChatSettings","SingleMemoryBank"]},[(n(),w(D(c),{ref_key:"childRef",ref:i},null,512))],1024))]),_:1})]),!d.value&&t.value!=="moments"?(n(),o("div",G,[a("div",{class:l(["chat-nav-item",{active:t.value==="chat"}]),onClick:e[0]||(e[0]=c=>p("chat"))},[...e[9]||(e[9]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})])],-1),a("span",{class:"nav-label"},"聊天",-1)])],2),a("div",{class:l(["chat-nav-item",{active:t.value==="moments"}]),onClick:e[1]||(e[1]=c=>p("moments"))},[a("span",J,[(n(),o("svg",O,[...e[10]||(e[10]=[h('<circle cx="12" cy="12" r="10" data-v-7d1e640d></circle><line x1="9.69" y1="8" x2="3.95" y2="17.94" data-v-7d1e640d></line><line x1="14.31" y1="8" x2="2.83" y2="8" data-v-7d1e640d></line><line x1="16.62" y1="12" x2="10.88" y2="2.06" data-v-7d1e640d></line><line x1="14.31" y1="16" x2="20.05" y2="6.06" data-v-7d1e640d></line><line x1="9.69" y1="16" x2="21.17" y2="16" data-v-7d1e640d></line><line x1="7.38" y1="12" x2="13.12" y2="21.94" data-v-7d1e640d></line>',7)])])),T(y).unread?(n(),o("div",Q)):v("",!0)]),e[11]||(e[11]=a("span",{class:"nav-label"},"朋友圈",-1))],2),a("div",{class:l(["chat-nav-item",{active:t.value==="npc"}]),onClick:e[2]||(e[2]=c=>p("npc"))},[...e[12]||(e[12]=[h('<span class="nav-icon" data-v-7d1e640d><svg class="svg-icon" viewBox="0 0 24 24" data-v-7d1e640d><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-7d1e640d></path><circle cx="9" cy="7" r="4" data-v-7d1e640d></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-7d1e640d></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-7d1e640d></path></svg></span><span class="nav-label" data-v-7d1e640d>NPC</span>',2)])],2),a("div",{class:l(["chat-nav-item",{active:t.value==="favorites"}]),onClick:e[3]||(e[3]=c=>p("favorites"))},[...e[13]||(e[13]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1),a("span",{class:"nav-label"},"收藏",-1)])],2),a("div",{class:l(["chat-nav-item",{active:t.value==="profile"}]),onClick:e[4]||(e[4]=c=>p("profile"))},[...e[14]||(e[14]=[h('<span class="nav-icon" data-v-7d1e640d><svg class="svg-icon" viewBox="0 0 24 24" data-v-7d1e640d><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-7d1e640d></path><circle cx="12" cy="7" r="4" data-v-7d1e640d></circle></svg></span><span class="nav-label" data-v-7d1e640d>我</span>',2)])],2)])):v("",!0)])])}}},ee=S(U,[["__scopeId","data-v-7d1e640d"]]);export{ee as default};
