import{_ as A,r as x,u as R,c as g,a as S,b as o,d as i,e as p,f as a,n as c,g as k,h as M,w as N,i as f,j as V,k as $,o as t,K as H,l as z,p as P}from"./index-BjcW8MAH.js";const T={class:"chat-module"},K={key:0,class:"chat-app-layout"},j={key:0,class:"title",id:"chatAppTitle"},D={class:"chat-app-content"},E={key:0,class:"chat-bottom-nav"},I={class:"nav-icon"},L={class:"svg-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{"stroke-width":"1.5"}},W={key:0,class:"unread-badge"},q={__name:"index",setup(F){const m=S(),r=$(),l=x(null),u=x(!0),h=R(),b=g(()=>["single-chat","single-chat-settings","memory-bank"].includes(m.name));P("setShowMomentsCamera",n=>{u.value=n});const s=g(()=>{const n=m.path;return n.includes("/moments")?"moments":n.includes("/npc")?"npc":n.includes("/favorites")?"favorites":n.includes("/profile")?"profile":"chat"}),C=()=>{window.history.length>1?r.back():r.push("/")},w=()=>{l.value&&l.value.openAddModal&&l.value.openAddModal()},B=()=>{l.value&&l.value.openPostMomentModal&&l.value.openPostMomentModal()},d=n=>{n==="moments"&&h.setMomentsRead();const e={chat:"/chat/list",moments:"/chat/moments",npc:"/chat/npc",favorites:"/chat/favorites",profile:"/chat/profile"};r.push(e[n])};return(n,e)=>{const _=M("svg-icon"),y=M("router-view");return t(),o("div",T,[b.value?i("",!0):(t(),o("div",K,[a("div",{class:c(["app-header",{"moments-header-style":s.value==="moments"}]),id:"chatAppHeader"},[a("div",{class:c(["back-btn",{"white-icon":s.value==="moments"}]),onClick:C},[...e[5]||(e[5]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polyline",{points:"15 18 9 12 15 6"})],-1)])],2),s.value!=="moments"?(t(),o("div",j,"WeChat")):i("",!0),s.value!=="moments"?(t(),o("div",{key:1,class:"action-btn",id:"chatAppActionBtn",onClick:w},[k(_,{name:"plus-circle"})])):i("",!0),s.value==="moments"&&u.value?(t(),o("div",{key:2,class:"action-btn",id:"momentsActionBtn",onClick:B},[...e[6]||(e[6]=[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),a("circle",{cx:"12",cy:"13",r:"4"})],-1)])])):i("",!0)],2),a("div",D,[k(y,null,{default:N(({Component:v})=>[(t(),p(H,null,[(t(),p(z(v),{ref_key:"childRef",ref:l},null,512))],1024))]),_:1})]),s.value!=="moments"?(t(),o("div",E,[a("div",{class:c(["chat-nav-item",{active:s.value==="chat"}]),onClick:e[0]||(e[0]=v=>d("chat"))},[...e[7]||(e[7]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})])],-1),a("span",{class:"nav-label"},"聊天",-1)])],2),a("div",{class:c(["chat-nav-item",{active:s.value==="moments"}]),onClick:e[1]||(e[1]=v=>d("moments"))},[a("span",I,[(t(),o("svg",L,[...e[8]||(e[8]=[f('<circle cx="12" cy="12" r="10" data-v-36ffbe60></circle><line x1="9.69" y1="8" x2="3.95" y2="17.94" data-v-36ffbe60></line><line x1="14.31" y1="8" x2="2.83" y2="8" data-v-36ffbe60></line><line x1="16.62" y1="12" x2="10.88" y2="2.06" data-v-36ffbe60></line><line x1="14.31" y1="16" x2="20.05" y2="6.06" data-v-36ffbe60></line><line x1="9.69" y1="16" x2="21.17" y2="16" data-v-36ffbe60></line><line x1="7.38" y1="12" x2="13.12" y2="21.94" data-v-36ffbe60></line>',7)])])),V(h).unread?(t(),o("div",W)):i("",!0)]),e[9]||(e[9]=a("span",{class:"nav-label"},"朋友圈",-1))],2),a("div",{class:c(["chat-nav-item",{active:s.value==="npc"}]),onClick:e[2]||(e[2]=v=>d("npc"))},[...e[10]||(e[10]=[f('<span class="nav-icon" data-v-36ffbe60><svg class="svg-icon" viewBox="0 0 24 24" data-v-36ffbe60><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-36ffbe60></path><circle cx="9" cy="7" r="4" data-v-36ffbe60></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-36ffbe60></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-36ffbe60></path></svg></span><span class="nav-label" data-v-36ffbe60>NPC</span>',2)])],2),a("div",{class:c(["chat-nav-item",{active:s.value==="favorites"}]),onClick:e[3]||(e[3]=v=>d("favorites"))},[...e[11]||(e[11]=[a("span",{class:"nav-icon"},[a("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[a("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1),a("span",{class:"nav-label"},"收藏",-1)])],2),a("div",{class:c(["chat-nav-item",{active:s.value==="profile"}]),onClick:e[4]||(e[4]=v=>d("profile"))},[...e[12]||(e[12]=[f('<span class="nav-icon" data-v-36ffbe60><svg class="svg-icon" viewBox="0 0 24 24" data-v-36ffbe60><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-36ffbe60></path><circle cx="12" cy="7" r="4" data-v-36ffbe60></circle></svg></span><span class="nav-label" data-v-36ffbe60>我</span>',2)])],2)])):i("",!0)])),b.value?(t(),p(y,{key:1})):i("",!0)])}}},O=A(q,[["__scopeId","data-v-36ffbe60"]]);export{O as default};
