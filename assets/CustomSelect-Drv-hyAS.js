import{_ as E,r as u,c as V,y as $,a5 as L,b as d,o as a,d as r,l as _,B as y,n as v,f as z,h as W,e as O,E as R,F as T,C as q,W as F,T as I,G as N}from"./index-DYrD5Gg7.js";const A=["onClick"],D={__name:"CustomSelect",props:{options:{type:Array,required:!0,default:()=>[]},modelValue:{type:[String,Number],required:!0},textAlign:{type:String,default:"right"}},emits:["update:modelValue"],setup(i,{emit:x}){const f=i,C=x,o=u(!1),n=u(null),g=u({}),p=u("body"),h=V(()=>f.options.find(e=>e.value===f.modelValue)),S=()=>{if(n.value){const e=n.value.getBoundingClientRect(),l=window.innerWidth,s=e.left+e.width/2>l/2;let t={position:"absolute",top:`${e.bottom+4}px`,width:"auto",zIndex:9999};if(s?(t.right=`${l-e.right}px`,t.left="auto"):(t.left=`${e.left}px`,t.right="auto"),p.value===".phone-frame"){const k=document.querySelector(".phone-frame");if(k){const m=k.getBoundingClientRect();t.top=`${e.bottom-m.top+4}px`,s?(t.right=`${m.right-e.right}px`,t.left="auto"):(t.left=`${e.left-m.left}px`,t.right="auto")}}g.value=t}},b=async()=>{if(o.value)o.value=!1;else{const e=document.querySelector(".phone-frame");p.value=e?".phone-frame":"body",o.value=!0,await N(),S()}},B=e=>{C("update:modelValue",e.value),o.value=!1},w=e=>{const l=n.value&&n.value.contains(e.target),s=e.target.closest(".custom-options");!l&&!s&&(o.value=!1)},c=()=>{o.value&&(o.value=!1)};return $(()=>{document.addEventListener("click",w),window.addEventListener("scroll",c,!0),window.addEventListener("resize",c)}),L(()=>{document.removeEventListener("click",w),window.removeEventListener("scroll",c,!0),window.removeEventListener("resize",c)}),(e,l)=>(a(),d("div",{class:"custom-select-wrapper",ref_key:"selectWrapper",ref:n},[r("div",{class:v(["custom-select-trigger",`text-${i.textAlign}`]),onClick:b},[r("span",null,y(h.value?h.value.label:"请选择"),1),r("div",{class:v(["arrow-icon",{open:o.value}])},[...l[0]||(l[0]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},[r("polyline",{points:"9 18 15 12 9 6"})],-1)])],2)],2),(a(),_(I,{to:p.value},[z(F,{name:"slide-fade"},{default:W(()=>[o.value?(a(),d("div",{key:0,class:"custom-options",style:R(g.value)},[(a(!0),d(T,null,q(i.options,s=>(a(),d("div",{key:s.value,class:v(["custom-option",{selected:i.modelValue===s.value}]),onClick:t=>B(s)},y(s.label),11,A))),128))],4)):O("",!0)]),_:1})],8,["to"]))],512))}},G=E(D,[["__scopeId","data-v-64fe20b2"]]);export{G as C};
