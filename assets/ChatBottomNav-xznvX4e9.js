import{_ as h,a as g,u as C,r as k,c as b,b as B,d as l,o as r,g as M,e as t,i as m,F as w,C as N,t as S,B as u,M as $,n as v,f as F,z as c,j as V}from"./index-CwIMbwq0.js";const z={class:"modal-options centered-text"},R=["onClick"],H={class:"option-text"},L={class:"chat-bottom-nav"},T={class:"nav-icon"},_={class:"svg-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{"stroke-width":"1.4"}},j={key:0,class:"unread-badge"},D={__name:"ChatBottomNav",setup(E){const f=B(),d=V(),p=g(),x=C(),n=k(!1),o=b(()=>{const s=f.path;return s.includes("/moments")?"moments":s.includes("/npc")?"npc":s.includes("/favorites")?"favorites":s.includes("/profile")?"profile":"chat"}),i=s=>{if(s==="moments"&&p.setMomentsRead(),s==="favorites"){n.value=!0;return}const a={chat:"/chat/list",moments:"/chat/moments",npc:"/chat/npc",favorites:"/chat/favorites",profile:"/chat/profile"};d.push(a[s])},y=s=>{n.value=!1,d.push({name:"chat-favorites",params:{charId:s}})};return(s,a)=>(r(),l("div",null,[M($,{visible:n.value,"onUpdate:visible":a[1]||(a[1]=e=>n.value=e),title:"查看和谁的回忆"},{footer:m(()=>[t("button",{class:"modal-btn cancel",onClick:a[0]||(a[0]=e=>n.value=!1)},"取消")]),default:m(()=>[t("div",z,[(r(!0),l(w,null,N(u(x).characters,e=>(r(),l("div",{key:e.id,class:"modal-option",onClick:I=>y(e.id)},[t("span",H,S(e.name),1)],8,R))),128))])]),_:1},8,["visible"]),t("div",L,[t("div",{class:v(["chat-nav-item",{active:o.value==="chat"}]),onClick:a[2]||(a[2]=e=>i("chat"))},[...a[7]||(a[7]=[t("span",{class:"nav-icon"},[t("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[t("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})])],-1),t("span",{class:"nav-label"},"聊天",-1)])],2),t("div",{class:v(["chat-nav-item",{active:o.value==="moments"}]),onClick:a[3]||(a[3]=e=>i("moments"))},[t("span",T,[(r(),l("svg",_,[...a[8]||(a[8]=[c('<circle cx="12" cy="12" r="10" data-v-79086380></circle><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(0, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(45, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(90, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(135, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(180, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(225, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(270, 12, 12)" data-v-79086380></line><line x1="14.31" y1="8" x2="2.83" y2="8" transform="rotate(315, 12, 12)" data-v-79086380></line>',9)])])),u(p).unread?(r(),l("div",j)):F("",!0)]),a[9]||(a[9]=t("span",{class:"nav-label"},"朋友圈",-1))],2),t("div",{class:v(["chat-nav-item",{active:o.value==="npc"}]),onClick:a[4]||(a[4]=e=>i("npc"))},[...a[10]||(a[10]=[c('<span class="nav-icon" data-v-79086380><svg class="svg-icon" viewBox="0 0 24 24" data-v-79086380><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-79086380></path><circle cx="9" cy="7" r="4" data-v-79086380></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-79086380></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-79086380></path></svg></span><span class="nav-label" data-v-79086380>NPC</span>',2)])],2),t("div",{class:v(["chat-nav-item",{active:o.value==="favorites"}]),onClick:a[5]||(a[5]=e=>i("favorites"))},[...a[11]||(a[11]=[t("span",{class:"nav-icon"},[t("svg",{class:"svg-icon",viewBox:"0 0 24 24"},[t("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1),t("span",{class:"nav-label"},"收藏",-1)])],2),t("div",{class:v(["chat-nav-item",{active:o.value==="profile"}]),onClick:a[6]||(a[6]=e=>i("profile"))},[...a[12]||(a[12]=[c('<span class="nav-icon" data-v-79086380><svg class="svg-icon" viewBox="0 0 24 24" data-v-79086380><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-79086380></path><circle cx="12" cy="7" r="4" data-v-79086380></circle></svg></span><span class="nav-label" data-v-79086380>我</span>',2)])],2)])]))}},U=h(D,[["__scopeId","data-v-79086380"]]);export{U as C};
