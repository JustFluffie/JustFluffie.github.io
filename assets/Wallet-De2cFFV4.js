import{_ as b,$ as g,B as h,r as _,g as l,i as e,f as v,d as i,x as f,S as x,t as o,h as S,G as k,H as y,o as r,j as w}from"./index-BH1vO71R.js";import{M as $}from"./MoneyPacket-Do3qlxAF.js";const B={class:"wallet-page"},M={class:"app-header",style:{"border-bottom":"none"}},z={class:"balance-card"},C={class:"balance-amount"},V={class:"transaction-list"},D={class:"list-content"},F={class:"item-left"},H={class:"item-title"},T={class:"item-time"},N={key:0,class:"empty-tip"},R={__name:"Wallet",setup(W){const u=f(),n=g(),d=h(),c=_(!1),m=a=>{const t=new Date(a);return`${t.getMonth()+1}-${t.getDate()} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},p=({amount:a})=>{n.recharge(a)?d.showToast(`充值成功 ¥${a}`,"success"):d.showToast("充值失败","error")};return(a,t)=>(r(),l("div",B,[e("div",M,[e("div",{class:"back-btn",onClick:t[0]||(t[0]=s=>i(u).back())},[v(x,{name:"back-btn"})]),t[3]||(t[3]=e("div",{class:"title"},null,-1)),t[4]||(t[4]=e("div",{class:"action-btn"},null,-1))]),e("div",z,[t[5]||(t[5]=e("div",{class:"balance-icon"},[e("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#FA9D3B"},[e("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zm-6-11c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})])],-1)),t[6]||(t[6]=e("div",{class:"balance-label"},"我的零钱",-1)),e("div",C,"¥"+o(i(n).balance.toFixed(2)),1),e("button",{class:"recharge-btn",onClick:t[1]||(t[1]=s=>c.value=!0)},"充值")]),e("div",V,[t[7]||(t[7]=e("div",{class:"list-header"},"零钱明细",-1)),e("div",D,[(r(!0),l(k,null,y(i(n).transactions,s=>(r(),l("div",{key:s.id,class:"transaction-item"},[e("div",F,[e("div",H,o(s.title),1),e("div",T,o(m(s.time)),1)]),e("div",{class:w(["item-amount",{income:s.type!=="expense",expense:s.type==="expense"}])},o(s.type==="expense"?"-":"+")+o(s.amount.toFixed(2)),3)]))),128)),i(n).transactions.length===0?(r(),l("div",N," 暂无明细 ")):S("",!0)])]),v($,{visible:c.value,"onUpdate:visible":t[2]||(t[2]=s=>c.value=s),mode:"recharge",onConfirm:p},null,8,["visible"])]))}},j=b(R,[["__scopeId","data-v-4906e20c"]]);export{j as default};
