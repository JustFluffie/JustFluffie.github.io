import{_ as b,X as g,s as _,r as h,d as l,e as t,g as v,B as i,j as f,S,t as o,f as k,F as x,C as y,o as r,n as w}from"./index-CN4op1qo.js";import{M as $}from"./MoneyPacket-CPZSdZcj.js";const B={class:"wallet-page"},C={class:"app-header",style:{"border-bottom":"none"}},M={class:"balance-card"},z={class:"balance-amount"},F={class:"transaction-list"},V={class:"list-content"},D={class:"item-left"},T={class:"item-title"},H={class:"item-time"},N={key:0,class:"empty-tip"},R={__name:"Wallet",setup(W){const u=f(),n=g(),d=_(),c=h(!1),m=a=>{const e=new Date(a);return`${e.getMonth()+1}-${e.getDate()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},p=({amount:a})=>{n.recharge(a)?d.showToast(`充值成功 ¥${a}`,"success"):d.showToast("充值失败","error")};return(a,e)=>(r(),l("div",B,[t("div",C,[t("div",{class:"back-btn",onClick:e[0]||(e[0]=s=>i(u).back())},[v(S,{name:"back-btn"})]),e[3]||(e[3]=t("div",{class:"title"},null,-1)),e[4]||(e[4]=t("div",{class:"action-btn"},null,-1))]),t("div",M,[e[5]||(e[5]=t("div",{class:"balance-icon"},[t("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#FA9D3B"},[t("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zm-6-11c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"})])],-1)),e[6]||(e[6]=t("div",{class:"balance-label"},"我的零钱",-1)),t("div",z,"¥"+o(i(n).balance.toFixed(2)),1),t("button",{class:"recharge-btn",onClick:e[1]||(e[1]=s=>c.value=!0)},"充值")]),t("div",F,[e[7]||(e[7]=t("div",{class:"list-header"},"零钱明细",-1)),t("div",V,[(r(!0),l(x,null,y(i(n).transactions,s=>(r(),l("div",{key:s.id,class:"transaction-item"},[t("div",D,[t("div",T,o(s.title),1),t("div",H,o(m(s.time)),1)]),t("div",{class:w(["item-amount",{income:s.type!=="expense",expense:s.type==="expense"}])},o(s.type==="expense"?"-":"+")+o(s.amount.toFixed(2)),3)]))),128)),i(n).transactions.length===0?(r(),l("div",N," 暂无明细 ")):k("",!0)])]),v($,{visible:c.value,"onUpdate:visible":e[2]||(e[2]=s=>c.value=s),mode:"recharge",onConfirm:p},null,8,["visible"])]))}},j=b(R,[["__scopeId","data-v-4906e20c"]]);export{j as default};
