import{_ as U,B,k as C,r as c,c as E,g as o,i as s,f as N,E as v,j as M,h as V,p as g,t as w,d as i,F as b,V as x,x as D,J as y,o as r}from"./index-D1qrJq6I.js";import{C as S}from"./ChatBottomNav-ChJPjE0s.js";const z={class:"profile-page"},j={class:"profile-content"},H={class:"profile-header"},K={class:"user-info"},T=["src"],A={class:"user-details"},$={key:0,class:"user-name"},q={class:"user-id-container"},F={class:"menu-list"},J={class:"menu-list"},R={__name:"Profile",setup(G){const p=D();B();const t=C(),l=c(!1),d=c(!1),f=c(null),m=c(null),u=E(()=>{var n;const a=t.userPersonas;if(!a||a.length===0)return null;const e=a.find(I=>I.isDefault);return e?e.avatar:((n=a[0])==null?void 0:n.avatar)||null}),_=()=>{l.value=!0,y(()=>{var a;(a=f.value)==null||a.focus()})},h=()=>{l.value=!1,(!t.currentUserProfile.name||!t.currentUserProfile.name.trim())&&(t.currentUserProfile.name="我"),t.saveData()},P=()=>{d.value=!0,y(()=>{var a;(a=m.value)==null||a.focus()})},k=()=>{d.value=!1,(!t.currentUserProfile.customId||!t.currentUserProfile.customId.trim())&&(t.currentUserProfile.customId="user_001"),t.saveData()};return(a,e)=>(r(),o("div",z,[s("div",j,[s("div",H,[s("div",K,[s("div",{class:M(["user-avatar",{"no-avatar":!u.value}])},[u.value?(r(),o("img",{key:0,src:u.value,alt:"User Avatar"},null,8,T)):V("",!0)],2),s("div",A,[s("div",{class:"user-name-container",onClick:_},[l.value?g((r(),o("input",{key:1,ref_key:"nameInput",ref:f,"onUpdate:modelValue":e[0]||(e[0]=n=>i(t).currentUserProfile.name=n),class:"user-name-input",onBlur:h,onKeyup:x(h,["enter"])},null,544)),[[b,i(t).currentUserProfile.name]]):(r(),o("div",$,w(i(t).currentUserProfile.name),1))]),s("div",q,[e[4]||(e[4]=s("span",{class:"id-prefix"},"ID: ",-1)),d.value?g((r(),o("input",{key:1,ref_key:"idInput",ref:m,"onUpdate:modelValue":e[1]||(e[1]=n=>i(t).currentUserProfile.customId=n),class:"user-id-input",onBlur:k,onKeyup:x(k,["enter"])},null,544)),[[b,i(t).currentUserProfile.customId]]):(r(),o("span",{key:0,class:"user-id-text",onClick:P},w(i(t).currentUserProfile.customId),1))])]),e[5]||(e[5]=v('<div class="qr-code-icon" data-v-c572dcab><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" fill="none" stroke-width="2" data-v-c572dcab><path d="M3 3h6v6H3zM15 3h6v6h-6zM3 15h6v6H3zM15 15h6v6h-6z" data-v-c572dcab></path></svg><svg viewBox="0 0 24 24" width="16" height="16" stroke="#999" fill="none" stroke-width="2" data-v-c572dcab><polyline points="9 18 15 12 9 6" data-v-c572dcab></polyline></svg></div>',1))])]),s("div",F,[s("div",{class:"menu-item",onClick:e[2]||(e[2]=n=>i(p).push({name:"profile-wallet"}))},[...e[6]||(e[6]=[v('<div class="menu-icon wallet-icon" data-v-c572dcab><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#07C160" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c572dcab><rect x="2" y="4.5" width="20" height="15" rx="2" data-v-c572dcab></rect><path d="M22 9h-7a3 3 0 0 0 0 6h7" data-v-c572dcab></path><circle cx="15" cy="12" r="1.5" fill="#07C160" stroke="none" data-v-c572dcab></circle></svg></div><div class="menu-content" data-v-c572dcab><span class="menu-text" data-v-c572dcab>钱包</span><svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16" stroke="#999" fill="none" stroke-width="2" data-v-c572dcab><polyline points="9 18 15 12 9 6" data-v-c572dcab></polyline></svg></div>',2)])])]),s("div",J,[s("div",{class:"menu-item",onClick:e[3]||(e[3]=n=>i(p).push({name:"profile-persona"}))},[...e[7]||(e[7]=[v('<div class="menu-icon settings-icon" data-v-c572dcab><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#576B95" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c572dcab><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-c572dcab></path><circle cx="12" cy="7" r="4" data-v-c572dcab></circle></svg></div><div class="menu-content" data-v-c572dcab><span class="menu-text" data-v-c572dcab>人设管理</span><svg class="arrow-icon" viewBox="0 0 24 24" width="16" height="16" stroke="#999" fill="none" stroke-width="2" data-v-c572dcab><polyline points="9 18 15 12 9 6" data-v-c572dcab></polyline></svg></div>',2)])])])]),N(S)]))}},Q=U(R,[["__scopeId","data-v-c572dcab"]]);export{Q as default};
