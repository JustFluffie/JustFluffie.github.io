import{cd as Xe,r as W,c as T,x as Oe,E as Pe,_ as oe,a0 as ye,b as k,d as C,o as p,f as d,F as I,B as q,n as A,A as x,y as $,z as F,C as ae,g as Y,S as Q,m as je,P as Je,w as re,M as Ge,D as ze,Q as we,j as ne,L as Ze,e as Ke,a3 as et}from"./index-B5SBoHoR.js";const Ce=6048e5,tt=864e5,Ne=6e4,We=36e5,De=Symbol.for("constructDateFrom");function E(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&De in n?n[De](e):n instanceof Date?new n.constructor(e):new Date(e)}function O(n,e){return E(e||n,n)}function G(n,e,t){const a=O(n,t==null?void 0:t.in);return isNaN(e)?E(n,NaN):(e&&a.setDate(a.getDate()+e),a)}let nt={};function ie(){return nt}function Z(n,e){var o,m,c,v;const t=ie(),a=(e==null?void 0:e.weekStartsOn)??((m=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:m.weekStartsOn)??t.weekStartsOn??((v=(c=t.locale)==null?void 0:c.options)==null?void 0:v.weekStartsOn)??0,r=O(n,e==null?void 0:e.in),s=r.getDay(),u=(s<a?7:0)+s-a;return r.setDate(r.getDate()-u),r.setHours(0,0,0,0),r}function se(n,e){return Z(n,{...e,weekStartsOn:1})}function Ye(n,e){const t=O(n,e==null?void 0:e.in),a=t.getFullYear(),r=E(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const s=se(r),u=E(t,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const o=se(u);return t.getTime()>=s.getTime()?a+1:t.getTime()>=o.getTime()?a:a-1}function be(n){const e=O(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ee(n,...e){const t=E.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function pe(n,e){const t=O(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function $e(n,e,t){const[a,r]=Ee(t==null?void 0:t.in,n,e),s=pe(a),u=pe(r),o=+s-be(s),m=+u-be(u);return Math.round((o-m)/tt)}function at(n,e){const t=Ye(n,e),a=E(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),se(a)}function rt(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function st(n){return!(!rt(n)&&typeof n!="number"||isNaN(+O(n)))}function z(n,e,t){const[a,r]=Ee(t==null?void 0:t.in,n,e),s=ke(a,r),u=Math.abs($e(a,r));a.setDate(a.getDate()-s*u);const o=+(ke(a,r)===-s),m=s*(u-o);return m===0?0:m}function ke(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function ot(n,e){const t=O(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const it={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ut=(n,e,t)=>{let a;const r=it[n];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function le(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const ct={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ft={date:le({formats:ct,defaultWidth:"full"}),time:le({formats:dt,defaultWidth:"full"}),dateTime:le({formats:lt,defaultWidth:"full"})},mt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ht=(n,e,t,a)=>mt[n];function X(n){return(e,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let r;if(a==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):u;r=n.formattingValues[o]||n.formattingValues[u]}else{const u=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[o]||n.values[u]}const s=n.argumentCallback?n.argumentCallback(e):e;return r[s]}}const gt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pt=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},kt={ordinalNumber:pt,era:X({values:gt,defaultWidth:"wide"}),quarter:X({values:vt,defaultWidth:"wide",argumentCallback:n=>n-1}),month:X({values:yt,defaultWidth:"wide"}),day:X({values:wt,defaultWidth:"wide"}),dayPeriod:X({values:Dt,defaultWidth:"wide",formattingValues:bt,defaultFormattingWidth:"wide"})};function j(n){return(e,t={})=>{const a=t.width,r=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],s=e.match(r);if(!s)return null;const u=s[0],o=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(o)?St(o,g=>g.test(u)):Mt(o,g=>g.test(u));let c;c=n.valueCallback?n.valueCallback(m):m,c=t.valueCallback?t.valueCallback(c):c;const v=e.slice(u.length);return{value:c,rest:v}}}function Mt(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function St(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function xt(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const r=a[0],s=e.match(n.parsePattern);if(!s)return null;let u=n.valueCallback?n.valueCallback(s[0]):s[0];u=t.valueCallback?t.valueCallback(u):u;const o=e.slice(r.length);return{value:u,rest:o}}}const _t=/^(\d+)(th|st|nd|rd)?/i,Tt=/\d+/i,Ot={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pt={any:[/^b/i,/^(a|c)/i]},Ct={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nt={any:[/1/i,/2/i,/3/i,/4/i]},Wt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Et={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ft={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},It={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ht={ordinalNumber:xt({matchPattern:_t,parsePattern:Tt,valueCallback:n=>parseInt(n,10)}),era:j({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:Pt,defaultParseWidth:"any"}),quarter:j({matchPatterns:Ct,defaultMatchWidth:"wide",parsePatterns:Nt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:j({matchPatterns:Wt,defaultMatchWidth:"wide",parsePatterns:Yt,defaultParseWidth:"any"}),day:j({matchPatterns:Et,defaultMatchWidth:"wide",parsePatterns:$t,defaultParseWidth:"any"}),dayPeriod:j({matchPatterns:Ft,defaultMatchWidth:"any",parsePatterns:It,defaultParseWidth:"any"})},Rt={code:"en-US",formatDistance:ut,formatLong:ft,formatRelative:ht,localize:kt,match:Ht,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qt(n,e){const t=O(n,e==null?void 0:e.in);return $e(t,ot(t))+1}function Lt(n,e){const t=O(n,e==null?void 0:e.in),a=+se(t)-+at(t);return Math.round(a/Ce)+1}function Fe(n,e){var v,g,b,y;const t=O(n,e==null?void 0:e.in),a=t.getFullYear(),r=ie(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(b=r.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,u=E((e==null?void 0:e.in)||n,0);u.setFullYear(a+1,0,s),u.setHours(0,0,0,0);const o=Z(u,e),m=E((e==null?void 0:e.in)||n,0);m.setFullYear(a,0,s),m.setHours(0,0,0,0);const c=Z(m,e);return+t>=+o?a+1:+t>=+c?a:a-1}function Ut(n,e){var o,m,c,v;const t=ie(),a=(e==null?void 0:e.firstWeekContainsDate)??((m=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(c=t.locale)==null?void 0:c.options)==null?void 0:v.firstWeekContainsDate)??1,r=Fe(n,e),s=E((e==null?void 0:e.in)||n,0);return s.setFullYear(r,0,a),s.setHours(0,0,0,0),Z(s,e)}function Bt(n,e){const t=O(n,e==null?void 0:e.in),a=+Z(t,e)-+Ut(t,e);return Math.round(a/Ce)+1}function w(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const R={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return w(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):w(t+1,2)},d(n,e){return w(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return w(n.getHours()%12||12,e.length)},H(n,e){return w(n.getHours(),e.length)},m(n,e){return w(n.getMinutes(),e.length)},s(n,e){return w(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),r=Math.trunc(a*Math.pow(10,t-3));return w(r,e.length)}},V={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Me={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),r=a>0?a:1-a;return t.ordinalNumber(r,{unit:"year"})}return R.y(n,e)},Y:function(n,e,t,a){const r=Fe(n,a),s=r>0?r:1-r;if(e==="YY"){const u=s%100;return w(u,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):w(s,e.length)},R:function(n,e){const t=Ye(n);return w(t,e.length)},u:function(n,e){const t=n.getFullYear();return w(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return w(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return w(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return R.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return w(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const r=Bt(n,a);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):w(r,e.length)},I:function(n,e,t){const a=Lt(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):w(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):R.d(n,e)},D:function(n,e,t){const a=qt(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):w(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const r=n.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return w(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const r=n.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return w(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return w(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let r;switch(a===12?r=V.noon:a===0?r=V.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let r;switch(a>=17?r=V.evening:a>=12?r=V.afternoon:a>=4?r=V.morning:r=V.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return R.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):R.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):R.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):R.s(n,e)},S:function(n,e){return R.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return xe(a);case"XXXX":case"XX":return B(a);case"XXXXX":case"XXX":default:return B(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return xe(a);case"xxxx":case"xx":return B(a);case"xxxxx":case"xxx":default:return B(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Se(a,":");case"OOOO":default:return"GMT"+B(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Se(a,":");case"zzzz":default:return"GMT"+B(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return w(a,e.length)},T:function(n,e,t){return w(+n,e.length)}};function Se(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),r=Math.trunc(a/60),s=a%60;return s===0?t+String(r):t+String(r)+e+w(s,2)}function xe(n,e){return n%60===0?(n>0?"-":"+")+w(Math.abs(n)/60,2):B(n,e)}function B(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),r=w(Math.trunc(a/60),2),s=w(a%60,2);return t+r+e+s}const _e=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ie=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vt=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],r=t[2];if(!r)return _e(n,e);let s;switch(a){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_e(a,e)).replace("{{time}}",Ie(r,e))},Qt={p:Ie,P:Vt},At=/^D+$/,Xt=/^Y+$/,jt=["D","DD","YY","YYYY"];function Jt(n){return At.test(n)}function Gt(n){return Xt.test(n)}function zt(n,e,t){const a=Zt(n,e,t);if(console.warn(a),jt.includes(n))throw new RangeError(a)}function Zt(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,en=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tn=/^'([^]*?)'?$/,nn=/''/g,an=/[a-zA-Z]/;function Te(n,e,t){var v,g,b,y;const a=ie(),r=a.locale??Rt,s=a.firstWeekContainsDate??((g=(v=a.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,u=a.weekStartsOn??((y=(b=a.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,o=O(n,t==null?void 0:t.in);if(!st(o))throw new RangeError("Invalid time value");let m=e.match(en).map(f=>{const i=f[0];if(i==="p"||i==="P"){const l=Qt[i];return l(f,r.formatLong)}return f}).join("").match(Kt).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const i=f[0];if(i==="'")return{isToken:!1,value:rn(f)};if(Me[i])return{isToken:!0,value:f};if(i.match(an))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return{isToken:!1,value:f}});r.localize.preprocessor&&(m=r.localize.preprocessor(o,m));const c={firstWeekContainsDate:s,weekStartsOn:u,locale:r};return m.map(f=>{if(!f.isToken)return f.value;const i=f.value;(Gt(i)||Jt(i))&&zt(i,e,String(n));const l=Me[i[0]];return l(o,i,r.localize,c)}).join("")}function rn(n){const e=n.match(tn);return e?e[1].replace(nn,"'"):n}function H(n,e){const t=O(n,e==null?void 0:e.in);if(isNaN(+t))throw new RangeError("Invalid time value");const a=(e==null?void 0:e.format)??"extended",r=(e==null?void 0:e.representation)??"complete";let s="",u="";const o=a==="extended"?"-":"",m=a==="extended"?":":"";if(r!=="time"){const c=w(t.getDate(),2),v=w(t.getMonth()+1,2);s=`${w(t.getFullYear(),4)}${o}${v}${o}${c}`}if(r!=="date"){const c=t.getTimezoneOffset();if(c!==0){const i=Math.abs(c),l=w(Math.trunc(i/60),2),h=w(i%60,2);u=`${c<0?"+":"-"}${l}:${h}`}else u="Z";const v=w(t.getHours(),2),g=w(t.getMinutes(),2),b=w(t.getSeconds(),2),y=s===""?"":"T",f=[v,g,b].join(m);s=`${s}${y}${f}${u}`}return s}function K(n,e,t){const a=+O(n,t==null?void 0:t.in),[r,s]=[+O(e.start,t==null?void 0:t.in),+O(e.end,t==null?void 0:t.in)].sort((u,o)=>u-o);return a>=r&&a<=s}function N(n,e){const t=()=>E(e==null?void 0:e.in,NaN),r=cn(n);let s;if(r.date){const c=dn(r.date,2);s=ln(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const u=+s;let o=0,m;if(r.time&&(o=fn(r.time),isNaN(o)))return t();if(r.timezone){if(m=mn(r.timezone),isNaN(m))return t()}else{const c=new Date(u+o),v=O(0,e==null?void 0:e.in);return v.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),v.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),v}return O(u+o+m,e==null?void 0:e.in)}const te={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,on=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,un=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cn(n){const e={},t=n.split(te.dateTimeDelimiter);let a;if(t.length>2)return e;if(/:/.test(t[0])?a=t[0]:(e.date=t[0],a=t[1],te.timeZoneDelimiter.test(e.date)&&(e.date=n.split(te.timeZoneDelimiter)[0],a=n.substr(e.date.length,n.length))),a){const r=te.timezone.exec(a);r?(e.time=a.replace(r[1],""),e.timezone=r[1]):e.time=a}return e}function dn(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=n.match(t);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,s=a[2]?parseInt(a[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((a[1]||a[2]).length)}}function ln(n,e){if(e===null)return new Date(NaN);const t=n.match(sn);if(!t)return new Date(NaN);const a=!!t[4],r=J(t[1]),s=J(t[2])-1,u=J(t[3]),o=J(t[4]),m=J(t[5])-1;if(a)return wn(e,o,m)?hn(e,o,m):new Date(NaN);{const c=new Date(0);return!vn(e,s,u)||!yn(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,u)),c)}}function J(n){return n?parseInt(n):1}function fn(n){const e=n.match(on);if(!e)return NaN;const t=fe(e[1]),a=fe(e[2]),r=fe(e[3]);return Dn(t,a,r)?t*We+a*Ne+r*1e3:NaN}function fe(n){return n&&parseFloat(n.replace(",","."))||0}function mn(n){if(n==="Z")return 0;const e=n.match(un);if(!e)return 0;const t=e[1]==="+"?-1:1,a=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return bn(a,r)?t*(a*We+r*Ne):NaN}function hn(n,e,t){const a=new Date(0);a.setUTCFullYear(n,0,4);const r=a.getUTCDay()||7,s=(e-1)*7+t+1-r;return a.setUTCDate(a.getUTCDate()+s),a}const gn=[31,null,31,30,31,30,31,31,30,31,30,31];function He(n){return n%400===0||n%4===0&&n%100!==0}function vn(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(gn[e]||(He(n)?29:28))}function yn(n,e){return e>=1&&e<=(He(n)?366:365)}function wn(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Dn(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function bn(n,e){return e>=0&&e<=59}function me(n){if(n.length<2)return{average:28,min:28,max:28};const e=[...n].sort((o,m)=>new Date(o.start)-new Date(m.start)),t=[];for(let o=1;o<e.length;o++){const m=new Date(e[o-1].start),c=new Date(e[o].start);t.push(z(c,m))}const a=t.reduce((o,m)=>o+m,0),r=Math.round(a/t.length),s=Math.min(...t),u=Math.max(...t);return{average:r,min:s,max:u}}function he(n){const e=n.filter(o=>o.start!==o.end);if(e.length===0)return{average:5,min:5,max:5};const t=e.map(o=>z(new Date(o.end),new Date(o.start))+1),a=t.reduce((o,m)=>o+m,0),r=Math.round(a/e.length),s=Math.min(...t),u=Math.max(...t);return{average:r,min:s,max:u}}function pn(n){const e=me(n),t=he(n),a=n.sort((m,c)=>new Date(m.start)-new Date(c.start))[n.length-1],r=new Date(a.start),s=G(r,e.min),u=G(r,e.max),o=G(u,t.max-1);return{startDate:H(s,{representation:"date"}),endDate:H(o,{representation:"date"})}}function kn(n,e){const t=new Date(n);for(const a of e){const r=new Date(a.start),s=new Date(a.end);if(K(t,{start:r,end:s}))return{status:"actual",dayCount:z(t,r)+1}}if(e.length>0){const a=pn(e),r=new Date(a.startDate),s=new Date(a.endDate);if(K(t,{start:r,end:s}))return{status:"predicted",dayCount:z(t,r)+1};const u=z(r,t);if(u>0)return{status:"predicted",dayCount:u}}return{status:"none",dayCount:null}}const ue=Xe("calendar",()=>{const n=W([]),e=localStorage.getItem("calendarEvents");e&&(n.value=JSON.parse(e));const t=()=>{localStorage.setItem("calendarEvents",JSON.stringify(n.value))},a=i=>{const l={id:Date.now(),...i};n.value.push(l),t()},r=i=>{n.value=n.value.filter(l=>l.id!==i),t()},s=i=>{const l=n.value.findIndex(h=>h.id===i.id);l!==-1&&(n.value[l]=i,t())},u=T(()=>i=>{const l=new Date(i).setHours(0,0,0,0);return n.value.filter(h=>h.date?new Date(h.date).setHours(0,0,0,0)===l:!1).sort((h,D)=>{const _=h.type==="todo",L=D.type==="todo";return _&&L?(h.time||"00:00").localeCompare(D.time||"00:00"):_?1:L?-1:h.id-D.id})}),o=W(JSON.parse(localStorage.getItem("periodHistory")||"[]"));Oe(o,i=>{localStorage.setItem("periodHistory",JSON.stringify(i))},{deep:!0});const m=T(()=>me(o.value)),c=T(()=>he(o.value)),v=T(()=>{if(o.value.length<1)return null;const{average:i}=me(o.value),{average:l}=he(o.value),h=o.value[o.value.length-1],D=G(new Date(h.start),i),_=G(D,l-1);return{startDate:H(D,{representation:"date"}),endDate:H(_,{representation:"date"})}}),g=i=>{if(o.value.some(_=>K(N(i),{start:N(_.start),end:N(_.end)})))return;const h={start:i,end:i},D=[...o.value,h];y(D)},b=i=>{if(o.value.length===0)return;const l=[...o.value],h=l[l.length-1];if(N(i)<N(h.start)){alert("结束日期不能早于开始日期。");return}h.end=i,y(l)},y=i=>{o.value=[...i].sort((l,h)=>new Date(l.start)-new Date(h.start)).slice(-12),Pe(()=>{if(n.value=n.value.filter(l=>l.type!=="period_day"&&l.type!=="predicted_period_day"),o.value.forEach(l=>{let h=new Date(l.start);const D=new Date(l.end);for(;h<=D;)a({type:"period_day",title:"经期",date:H(h,{representation:"date"}),icon:"i-tabler-droplet-filled",color:"red"}),h.setDate(h.getDate()+1)}),v.value){let l=new Date(v.value.startDate);const h=new Date(v.value.endDate);for(;l<=h;){const D=H(l,{representation:"date"});n.value.some(_=>_.date===D&&_.type==="period_day")||a({type:"predicted_period_day",title:"预测经期",date:D,icon:"i-tabler-droplet",color:"pink"}),l.setDate(l.getDate()+1)}}})};return{events:n,addEvent:a,removeEvent:r,updateEvent:s,getEventsByDate:u,toggleTodoStatus:i=>{const l=n.value.find(h=>h.id===i);l&&l.type==="todo"&&(l.done=!l.done,t())},periodHistory:o,recordPeriod:g,endPeriod:b,setPeriodHistory:y,cycleStats:m,durationStats:c,predictedPeriod:v}}),Mn={class:"modal-content"},Sn={class:"form-group"},xn={class:"type-selector"},_n=["onClick"],Tn={key:0,class:"form-group"},On={key:1,class:"form-group"},Pn={key:2},Cn={class:"form-group"},Nn={class:"datetime-group"},Wn={class:"form-group"},Yn={key:3,class:"form-group"},En={class:"period-management-area"},$n={class:"date-picker-row"},Fn={key:0,class:"record-list"},In={class:"record-dates"},Hn=["onClick"],Rn={__name:"EventFormModal",props:{visible:Boolean,selectedDate:Date},emits:["close","submit","submit-period"],setup(n,{emit:e}){const t=n,a=e,r=ue(),s=[{label:"待办",value:"todo"},{label:"倒数日",value:"countdown"},{label:"纪念日",value:"anniversary"},{label:"经期",value:"period"}],u=ye({start:"",end:""}),o=W([]),m=()=>({type:"todo",title:"",date:t.selectedDate?t.selectedDate.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),details:"",content:""}),c=ye(m());Oe(()=>t.visible,f=>{if(f){o.value=JSON.parse(JSON.stringify(r.periodHistory));const i=(t.selectedDate||new Date).toISOString().split("T")[0];c.date=i,u.start=i,u.end=i}});const v=()=>{if(!(!u.start||!u.end)){if(new Date(u.end)<new Date(u.start)){alert("结束日期不能早于开始日期");return}o.value.push({...u}),o.value.sort((f,i)=>new Date(f.start)-new Date(i.start))}},g=f=>{o.value.splice(f,1)},b=()=>{a("close"),Object.assign(c,m())},y=()=>{if(c.type==="period"){a("submit-period",o.value),b();return}const f={...c};if(f.type==="todo"){if(!f.details.trim()){alert("待办内容不能为空！");return}const[i,l,h]=f.date.split("-").map(Number),[D,_]=f.time.split(":").map(Number),L=new Date(i,l-1,h,D,_);f.date=L.toISOString(),f.content=f.details,delete f.details,delete f.title,delete f.time}a("submit",f),b()};return(f,i)=>n.visible?(p(),k("div",{key:0,class:"event-modal-overlay",onClick:ae(b,["self"])},[d("div",Mn,[i[14]||(i[14]=d("h3",{class:"modal-title"},"添加事件",-1)),d("div",Sn,[i[7]||(i[7]=d("label",null,"事件类型",-1)),d("div",xn,[(p(),k(I,null,q(s,l=>d("button",{key:l.value,class:A({active:c.type===l.value}),onClick:h=>c.type=l.value},x(l.label),11,_n)),64))])]),c.type!=="period"&&c.type!=="todo"?(p(),k("div",Tn,[i[8]||(i[8]=d("label",null,"标题",-1)),$(d("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>c.title=l),placeholder:"例如：生日"},null,512),[[F,c.title]])])):C("",!0),c.type==="countdown"||c.type==="anniversary"?(p(),k("div",On,[i[9]||(i[9]=d("label",null,"日期",-1)),$(d("input",{type:"date","onUpdate:modelValue":i[1]||(i[1]=l=>c.date=l)},null,512),[[F,c.date]])])):C("",!0),c.type==="todo"?(p(),k("div",Pn,[d("div",Cn,[i[10]||(i[10]=d("label",null,"日期和时间",-1)),d("div",Nn,[$(d("input",{type:"date","onUpdate:modelValue":i[2]||(i[2]=l=>c.date=l)},null,512),[[F,c.date]]),$(d("input",{type:"time","onUpdate:modelValue":i[3]||(i[3]=l=>c.time=l)},null,512),[[F,c.time]])])]),d("div",Wn,[i[11]||(i[11]=d("label",null,"待办内容",-1)),$(d("textarea",{"onUpdate:modelValue":i[4]||(i[4]=l=>c.details=l),placeholder:"记录需要做的事情..."},null,512),[[F,c.details]])])])):C("",!0),c.type==="period"?(p(),k("div",Yn,[d("div",En,[d("div",$n,[$(d("input",{type:"date","onUpdate:modelValue":i[5]||(i[5]=l=>u.start=l)},null,512),[[F,u.start]]),i[12]||(i[12]=d("span",null,"-",-1)),$(d("input",{type:"date","onUpdate:modelValue":i[6]||(i[6]=l=>u.end=l)},null,512),[[F,u.end]]),d("button",{class:"btn btn-sm",onClick:v},"添加")]),o.value.length>0?(p(),k("div",Fn,[(p(!0),k(I,null,q(o.value,(l,h)=>(p(),k("div",{key:h,class:"record-item"},[d("span",In,x(l.start)+" ~ "+x(l.end),1),d("button",{class:"delete-record-btn",onClick:ae(D=>g(h),["stop"])},[Y(Q,{name:"x-mark",class:"delete-icon"})],8,Hn)]))),128))])):C("",!0),i[13]||(i[13]=d("p",{class:"period-tip"},"管理您的经期记录（开始与结束日期），最多保留最近3条。",-1))])])):C("",!0),d("div",{class:"modal-actions"},[d("button",{class:"btn-cancel",onClick:b},"取消"),d("button",{class:"btn-confirm",onClick:y},"确认")])])])):C("",!0)}},qn=oe(Rn,[["__scopeId","data-v-3d087907"]]),Ln={class:"period-item"},Un=["title"],Bn={class:"content-wrapper"},Vn={key:0,class:"status-text"},Qn={class:"status-day-count"},An={key:1,class:"status-text"},Xn={key:2,class:"prediction-details"},jn={class:"prediction-text"},Jn={class:"stats-text"},Gn={__name:"PeriodTrackerCard",props:{status:{type:String,required:!0},dayCount:{type:Number,default:null},selectedDate:{type:Date,required:!0}},setup(n){const e=n,{t}=je(),a=ue(),{cycleStats:r,durationStats:s,predictedPeriod:u}=Je(a),{recordPeriod:o,endPeriod:m}=a,c=W({visible:!1,title:"",message:"",onConfirm:()=>{}}),v=(h,D,_)=>{c.value={visible:!0,title:h,message:D,onConfirm:_}},g=()=>{typeof c.value.onConfirm=="function"&&c.value.onConfirm(),c.value.visible=!1},b=T(()=>{switch(e.status){case"actual":return"var(--period-color)";case"predicted":return u.value&&K(e.selectedDate,{start:N(u.value.startDate),end:N(u.value.endDate)})?"var(--color-pink)":"var(---text-tertiary)";default:return"var(---text-tertiary)"}}),y=T(()=>e.status==="actual"?"点击记录经期结束":"点击记录经期开始"),f=T(()=>{if(!u.value)return"暂无预测";const h=Te(N(u.value.startDate),"M月d日"),D=Te(N(u.value.endDate),"M月d日");return`预测期: ${h} - ${D}`}),i=T(()=>{const{status:h,dayCount:D,selectedDate:_}=e;return h==="actual"?{prefix:"经期第",number:D,suffix:"天"}:h==="predicted"?u.value&&K(_,{start:N(u.value.startDate),end:N(u.value.endDate)})?{prefix:"预测期内",number:null,suffix:""}:{prefix:"预计",number:D,suffix:"天后"}:{prefix:"添加历史记录以开始预测",number:null,suffix:""}}),l=()=>{const h=H(e.selectedDate,{representation:"date"});e.status==="actual"?v(t("calendar.periodTracker.confirmEndTitle"),t("calendar.periodTracker.confirmEndMsg"),()=>m(h)):v(t("calendar.periodTracker.confirmStartTitle"),t("calendar.periodTracker.confirmStartMsg"),()=>o(h))};return(h,D)=>(p(),k("div",Ln,[D[3]||(D[3]=d("div",{class:"washi-tape"},null,-1)),Y(Ge,{visible:c.value.visible,title:c.value.title,"onUpdate:visible":D[1]||(D[1]=_=>c.value.visible=!1)},{footer:re(()=>[d("button",{class:"modal-btn cancel",onClick:D[0]||(D[0]=_=>c.value.visible=!1)},x(h.$t("cancel")),1),d("button",{class:"modal-btn confirm",onClick:g},x(h.$t("confirm")),1)]),default:re(()=>[d("p",null,x(c.value.message),1)]),_:1},8,["visible","title"]),d("div",{class:"status-button",onClick:l,title:y.value},[d("div",{class:"status-indicator",style:ze({backgroundColor:b.value})},null,4)],8,Un),d("div",Bn,[D[2]||(D[2]=d("h3",{class:"item-title"},"经期追踪",-1)),i.value.number!==null?(p(),k("p",Vn,[we(x(i.value.prefix)+" ",1),d("span",Qn,x(i.value.number),1),we(" "+x(i.value.suffix),1)])):(p(),k("p",An,x(i.value.prefix),1)),ne(a).periodHistory.length>0?(p(),k("div",Xn,[d("p",jn,x(f.value),1),d("p",Jn," 平均周期 "+x(ne(r).average)+" 天 · 平均经期 "+x(ne(s).average)+" 天 ",1)])):C("",!0)])]))}},zn=oe(Gn,[["__scopeId","data-v-537d2356"]]),Zn={key:0,class:"sticker-card todo-card"},Kn={class:"todo-list"},ea=["onClick"],ta={key:0,class:"edit-container"},na=["onClick"],aa={class:"todo-time"},ra=["onClick"],sa={__name:"ToDoList",props:{todos:{type:Array,required:!0}},setup(n){const e=ue(),t=W(null),a=W(null),r=W(!1),s=()=>{r.value=!0},u=g=>{const b=new Date(g.date);t.value={...g,time:b.toTimeString().slice(0,5)},Pe(()=>{var y,f;(f=(y=a.value)==null?void 0:y[0])==null||f.focus()})},o=()=>{if(r.value){r.value=!1;return}if(!t.value)return;if(!t.value.content.trim()){m(t.value.id);return}const g=new Date(t.value.date),[b,y]=t.value.time.split(":").map(Number);g.setHours(b,y);const f={...t.value,date:g.toISOString()};delete f.time,e.updateEvent(f),t.value=null},m=g=>{e.removeEvent(g),t.value=null},c=g=>{e.toggleTodoStatus(g)},v=g=>g?new Date(g).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1}):"";return(g,b)=>n.todos.length>0?(p(),k("div",Zn,[b[2]||(b[2]=d("h3",{class:"handwritten-title"},"To Do List",-1)),b[3]||(b[3]=d("div",{class:"tape-deco"},null,-1)),d("ul",Kn,[(p(!0),k(I,null,q(n.todos,y=>(p(),k("li",{key:y.id,class:A({done:y.done})},[d("div",{class:A(["checkbox",{checked:y.done}]),onClick:f=>c(y.id)},null,10,ea),t.value&&t.value.id===y.id?(p(),k("div",ta,[$(d("input",{type:"time","onUpdate:modelValue":b[0]||(b[0]=f=>t.value.time=f),class:"base-input-mini",onMousedown:s},null,544),[[F,t.value.time]]),$(d("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=f=>t.value.content=f),onBlur:o,onKeyup:Ze(o,["enter"]),class:"base-input",ref_for:!0,ref_key:"editInputRef",ref:a},null,544),[[F,t.value.content]]),d("button",{class:"delete-btn",onMousedown:s,onClick:f=>m(y.id)},[Y(Q,{name:"x-mark"})],40,na)])):(p(),k(I,{key:1},[d("span",aa,x(v(y.date)),1),d("span",{class:"todo-content",onClick:f=>u(y)},x((y.content||"").trim()||"[空内容]"),9,ra)],64))],2))),128))])])):C("",!0)}},oa=oe(sa,[["__scopeId","data-v-b1945ee4"]]),ia={class:"page-container"},ua={class:"calendar-section"},ca={class:"cal-header"},da={class:"header-left"},la={class:"m-en"},fa={class:"m-cn"},ma={class:"header-right"},ha={key:0,class:"month-switcher"},ga={key:0,class:"week-view"},va=["onClick"],ya={class:"week-txt"},wa={class:"day-num"},Da={key:1,class:"month-view"},ba={class:"grid-header"},pa={class:"grid-body"},ka=["onClick"],Ma={class:"events-display-section"},Sa={key:0,class:"period-tracker-container"},xa={class:"cards-container"},_a={key:0,class:"sticker-card count-card"},Ta={key:1,class:"sticker-card count-card anniversary"},Oa={key:1,class:"no-events-placeholder"},Pa={__name:"Calendar",setup(n){const e=ue(),t=W(!1),a=()=>{t.value=!0},r=M=>{e.addEvent(M)},s=M=>{e.setPeriodHistory(M)},u=["日","一","二","三","四","五","六"],o=["SUN","MON","TUE","WED","THU","FRI","SAT"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=new Date,v=W(!1),g=W(new Date),b=W(new Date(c.getFullYear(),c.getMonth(),1)),y=T(()=>b.value.getFullYear()),f=T(()=>b.value.getMonth()),i=T(()=>m[f.value]),l=T(()=>new Date(y.value,f.value+1,0).getDate()),h=T(()=>new Date(y.value,f.value,1).getDay()),D=T(()=>{const M=new Date(g.value),P=[],S=M.getDay(),U=M.getDate()-S;for(let de=0;de<7;de++){let ee=new Date(M);ee.setDate(U+de),P.push({date:ee,day:ee.getDate(),week:o[ee.getDay()]})}return P}),_=()=>{v.value=!v.value,v.value||(g.value=new Date),b.value=new Date(g.value.getFullYear(),g.value.getMonth(),1)},L=M=>b.value=new Date(y.value,f.value+M,1),ge=(M,P)=>M.getDate()===P.getDate()&&M.getMonth()===P.getMonth()&&M.getFullYear()===P.getFullYear(),Re=M=>M===c.getDate()&&f.value===c.getMonth()&&y.value===c.getFullYear(),qe=M=>M===g.value.getDate()&&f.value===g.value.getMonth()&&y.value===g.value.getFullYear(),Le=M=>g.value=M,Ue=M=>g.value=new Date(y.value,f.value,M),ce=T(()=>e.getEventsByDate(g.value)),Be=T(()=>ce.value.filter(M=>M.type==="todo")),Ve=T(()=>ce.value.filter(M=>M.type!=="todo")),ve=T(()=>{const M=H(g.value,{representation:"date"});return kn(M,e.periodHistory)}),Qe=()=>{const M=H(g.value,{representation:"date"});e.recordPeriod(M)},Ae=M=>{const P=new Date(y.value,f.value,M),S=e.getEventsByDate(P);return S.some(U=>U.type==="period_day")?"event-dot actual-dot":S.some(U=>U.type==="predicted_period_day")?"event-dot predicted-dot":S.length>0?"event-dot":""};return(M,P)=>(p(),Ke(et,{title:"日历"},{action:re(()=>[d("button",{class:"header-action-btn",onClick:a},[Y(Q,{name:"plus"})])]),default:re(()=>[d("div",ia,[d("div",ua,[d("div",ca,[d("div",da,[d("div",{class:"month-display",onClick:_},[d("span",la,x(i.value),1),d("span",fa,x(y.value)+"年"+x(f.value+1)+"月",1)])]),d("div",ma,[v.value?(p(),k("div",ha,[d("button",{onClick:P[0]||(P[0]=ae(S=>L(-1),["stop"]))},[Y(Q,{name:"chevron-left"})]),d("button",{onClick:P[1]||(P[1]=ae(S=>L(1),["stop"]))},[Y(Q,{name:"chevron-right"})])])):C("",!0),d("button",{class:"toggle-btn",onClick:_},[Y(Q,{name:v.value?"chevron-up":"chevron-down",className:"cal-toggle-icon"},null,8,["name"])])])]),v.value?(p(),k("div",Da,[d("div",ba,[(p(),k(I,null,q(u,S=>d("span",{key:S},x(S),1)),64))]),d("div",pa,[(p(!0),k(I,null,q(h.value,S=>(p(),k("div",{key:"empty-"+S,class:"grid-cell empty"}))),128)),(p(!0),k(I,null,q(l.value,S=>(p(),k("div",{key:S,class:A(["grid-cell",{active:qe(S),today:Re(S)}]),onClick:U=>Ue(S)},[d("span",null,x(S),1),d("div",{class:A(Ae(S))},null,2)],10,ka))),128))])])):(p(),k("div",ga,[(p(!0),k(I,null,q(D.value,S=>(p(),k("div",{key:S.date,class:A(["day-item",{active:ge(S.date,g.value),"is-today":ge(S.date,new Date)}]),onClick:U=>Le(S.date)},[d("span",ya,x(S.week),1),d("span",wa,x(S.day),1)],10,va))),128))]))]),d("div",Ma,[ne(e).periodHistory.length>0?(p(),k("div",Sa,[Y(zn,{status:ve.value.status,"day-count":ve.value.dayCount,"selected-date":g.value,onRecord:Qe},null,8,["status","day-count","selected-date"])])):C("",!0),d("div",xa,[(p(!0),k(I,null,q(Ve.value,S=>(p(),k("div",{key:S.id},[S.type==="countdown"?(p(),k("div",_a)):C("",!0),S.type==="anniversary"?(p(),k("div",Ta)):C("",!0)]))),128)),Y(oa,{todos:Be.value},null,8,["todos"])]),ce.value.length===0?(p(),k("div",Oa,[...P[3]||(P[3]=[d("p",null,"今天没有特别的安排",-1),d("span",null,"点击右上角按钮添加一个吧",-1)])])):C("",!0)]),Y(qn,{visible:t.value,"selected-date":g.value,onClose:P[2]||(P[2]=S=>t.value=!1),onSubmit:r,onSubmitPeriod:s},null,8,["visible","selected-date"])])]),_:1}))}},Na=oe(Pa,[["__scopeId","data-v-1c4cbc50"]]);export{Na as default};
